"use strict";(self.webpackChunkmg_documentation=self.webpackChunkmg_documentation||[]).push([[50],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return c}});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=o.createContext({}),m=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},u=function(e){var t=m(e.components);return o.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},p=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=m(n),c=a,h=p["".concat(s,".").concat(c)]||p[c]||d[c]||i;return n?o.createElement(h,r(r({ref:t},u),{},{components:n})):o.createElement(h,r({ref:t},u))}));function c(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,r=new Array(i);r[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,r[1]=l;for(var m=2;m<i;m++)r[m]=n[m];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}p.displayName="MDXCreateElement"},359:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return m},toc:function(){return u},default:function(){return p}});var o=n(7462),a=n(3366),i=(n(7294),n(3905)),r=["components"],l={},s="PROMOTER CROSS PROMOTION MODULE",m={unversionedId:"Promoter",id:"Promoter",isDocsHomePage:!1,title:"PROMOTER CROSS PROMOTION MODULE",description:"Introduction",source:"@site/docs/Promoter.md",sourceDirName:".",slug:"/Promoter",permalink:"/documentation/docs/Promoter",editUrl:"https://github.com/facebook/docusaurus/edit/main/website/docs/Promoter.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"PRIVACY POLICY POPUP",permalink:"/documentation/docs/Privacy Policy Popup"},next:{title:"SHERLOCK ANALYTICS MODULE",permalink:"/documentation/docs/Sherlock Analytics"}},u=[{value:"Introduction",id:"introduction",children:[],level:2},{value:"How to use",id:"how-to-use",children:[],level:2},{value:"API &amp; Details",id:"api--details",children:[{value:"Promoter",id:"promoter",children:[],level:3},{value:"Cross Promo Card",id:"cross-promo-card",children:[],level:3}],level:2}],d={toc:u};function p(e){var t=e.components,n=(0,a.Z)(e,r);return(0,i.kt)("wrapper",(0,o.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"promoter-cross-promotion-module"},"PROMOTER CROSS PROMOTION MODULE"),(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"Promoter provides a simple way of displaying basic cross promotion in game."),(0,i.kt)("h2",{id:"how-to-use"},"How to use"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Install package from Package Manager UI"),(0,i.kt)("li",{parentName:"ul"},"Open settings from ",(0,i.kt)("inlineCode",{parentName:"li"},"Matchingham Games > Cross Promotion")," and set local promo data. This can also be\nconfigured from the remote using ",(0,i.kt)("inlineCode",{parentName:"li"},"crossPromoJson")," remote setting. Sample json format:",(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre"},'{\n  "pinnedPromo": 1,\n  "promos": [\n    {\n      "title": "Github",\n      "clickUrl": "https://github.com/lolerji",\n      "impressionUrl": "https://github.com/lolerji",\n      "hrImages": [\n        "https://avatars.githubusercontent.com/u/13393096?v=4"\n      ],\n      "mrImages": [\n        "https://avatars.githubusercontent.com/u/13393096?s=88&v=4"\n      ],\n      "lrImages": [\n        "https://avatars.githubusercontent.com/u/13393096?s=60&v=4"\n      ]\n    },\n    {\n      "title": "Gitlab",\n      "clickUrl": "https://gitlab.com/ckucukha",\n      "impressionUrl": "https://gitlab.com/ckucukha",\n      "hrImages": [\n        "https://en.gravatar.com/userimage/209733791/5b0d7bd713531324547bc2660199adef.png?size=200"\n      ],\n      "mrImages": [\n        "https://gitlab.com/uploads/-/system/user/avatar/8862550/avatar.png?width=96"\n      ],\n      "lrImages": [\n        "https://gitlab.com/uploads/-/system/user/avatar/8862550/avatar.png?width=23"\n      ]\n    }\n  ],\n  "mappedPromotions": [\n    {\n      "id": "github",\n      "promoIndex": 0\n    },\n    {\n      "id": "gitlab",\n      "promoIndex": 1\n    }\n  ]\n}\n'))),(0,i.kt)("li",{parentName:"ul"},"Make sure ",(0,i.kt)("inlineCode",{parentName:"li"},"Enabled")," checkbox is checked (or the module will be disabled)"),(0,i.kt)("li",{parentName:"ul"},"Call ",(0,i.kt)("inlineCode",{parentName:"li"},"Promoter.Instance.Initialize()")," at the appropriate place."),(0,i.kt)("li",{parentName:"ul"},"Right click any canvas and use ",(0,i.kt)("inlineCode",{parentName:"li"},"UI > Matchingham > Cross Promo Card")," to create a cross promotion card."),(0,i.kt)("li",{parentName:"ul"},"Click card and configure how it should work",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"If you want to manually load and show promotions, toggle of ",(0,i.kt)("inlineCode",{parentName:"li"},"Load On Enable")," option."),(0,i.kt)("li",{parentName:"ul"},"Check ",(0,i.kt)("inlineCode",{parentName:"li"},"Show Pinned Promo")," to display a certain promotion pinned in the promo data."),(0,i.kt)("li",{parentName:"ul"},"Uncheck ",(0,i.kt)("inlineCode",{parentName:"li"},"Show Pinned Promo")," and provide a ",(0,i.kt)("inlineCode",{parentName:"li"},"Promo Map")," to fetch a certain promotion from ",(0,i.kt)("inlineCode",{parentName:"li"},"mappedPromotions"),"."),(0,i.kt)("li",{parentName:"ul"},"All of these options can also be set from code, so you can bind ",(0,i.kt)("inlineCode",{parentName:"li"},"Promo Map")," value to game logic,\nlike finished level. Please note if you are setting these values in code, either set them before the\ncard becomes enabled, or toggle of ",(0,i.kt)("inlineCode",{parentName:"li"},"Load On Enable")," and manually load the card.")))),(0,i.kt)("h2",{id:"api--details"},"API & Details"),(0,i.kt)("h3",{id:"promoter"},"Promoter"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Initialize()"),": Starts module initialization. You need to call this at the\nappropriate place. Since this module can use remote configuration, you should\nmake sure this call is made after remote config is ready.")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"GetPinnedPromo()"),": Returns pinned promo info from the provided promotion data.")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"GetMappedPromo(string)"),": Try to get a promotion info with a string key. If no promotion info is mapped for\nprovided key, a random promotion will be returned.")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"GetRandomPromo()"),": Returns a random promotion info from the promotion data.")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"LoadRandomImage(CrossPromo, Resolution)"),": Given a promotion info and resolution type, loads one\nof the images associated with it.")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"LoadImages(CrossPromo promo, Resolution resolution)"),": Loads all images of given resolution\ntype for provided promotion info")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"WhenInitialized(Action)"),": Allows you to register a callback that will be fired only\nafter the module is successfully initialized. Use this to execute logic that requires\nthis module to be initialized first. If the module has already initialized, immediately\ninvokes the callback.")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"WhenFailedToInitialize(Action)"),": Allows you to register a callback that will be fired only after\nthe module fails to initialize for any reason. Use this to handle what should happen\nin case this module fails to initialize. If the module has already failed to initialize, immediately\ninvokes the callback.")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"WhenReady(Action)"),": Combined version of ",(0,i.kt)("inlineCode",{parentName:"li"},"WhenInitialized")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"WhenFailedToInitialize"),".\nDelays execution of callback till module is first initialized or failed to initialize, immediately invoke\nthe callback if it is already initialized or failed to initialize.")),(0,i.kt)("h3",{id:"cross-promo-card"},"Cross Promo Card"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Resolution"),": Image quality of the card. Possible values:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"LowResolution,"),(0,i.kt)("li",{parentName:"ul"},"MediumResolution"),(0,i.kt)("li",{parentName:"ul"},"HighResolution")))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"ShowPinnedPromo"),": Should the card load the pinned promo from the config the next time it loads a promotion?")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"PromoMap"),": Provide a string id for the promotion to be loaded here. These ids are defined inside the mapped\npromotions data in the config.")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Load()"),": Manually load a promotion. If you want to configure how the card works, you can turn ",(0,i.kt)("inlineCode",{parentName:"li"},"Load on Enable"),"\noff from the inspector, and use this method according to your needs.")))}p.isMDXComponent=!0}}]);